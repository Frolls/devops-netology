## Решение домашнего задания к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

### Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

- **полная виртуализация**: для управления вируальными машинами не требуется ОС, гипервизор сам выполняет эту функцию. Связь между гостевой ОС и аппарвтными средствами сервера также осуществляется гипервизором (гипервизор симулирует оборудование). Есть подозрение, что железо должно поддерживать такие решения, т.к. тот же самый процессор должен поддерживать механизмы виртуализации. Гостевая ОС зачастую не осведомлена о виртуализации.
- **паравиртуализация**: программное решение, для которого требуется ОС, на которой работает гипервизор. Ресурсы между виртуальными машинами распределяются внутри ОС. Для работы с аппаратными средствами, как правило, нужны отдельные драйверы.
- **виртуализация на основе ОС**: тоже метод виртуализации, в основе которого поддержка ОС нескольких изолированных экземпляров пространства пользователя, а не одного. Эти экземпляры-контейнеры идентичны хостовой ОС.

### Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:

- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:

- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

- **Высоконагруженная база данных, чувствительная к отказу**. Склоняюсь к физическому серверу. Нет лишних прослоек, которые могут повлиять на отказ. Нет гипервизоров, т.к. работа гипервизора тоже не бесплатна и требует ресурсов. Хотя, вариант с паравиртуализацией тоже имеет место быть.
- **Различные web-приложения**. Если web-приложения не привязаны к конкретной ОС и это не критично, то однозначно виртуализация на уровне ОС. Легко создавать тестовые среды, масштабировать и прочее.
- **Windows системы для использования бухгалтерским отделом**. Виртуализация уровня ОС, если все эти Windows системы имеют ядро базовой ОС. Если нет, то паравиртуализация.
- **Системы, выполняющие высокопроизводительные расчеты на GPU**. Физический сервер для использования максимума ресурсов.

### Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

Ответы:

1. vSphere или ESXi от vmware. Нет ограничений к гостевым системам. Управление миграцией, создание резервных копий и прочие плюшки. Но, чойт, дорого..
2. Xen или KVM. В случае использования Xen для ускорения работы Windows можно применить паравиртуальные драйвера.
3. Microsoft Hyper-V Server. Бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры )
4. LXC, OpenVZ, docker. Легко разворачивать контейнеры, можно автоматизировать.

### Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Проблемы и недостатки: сложность в управлении/сопровождении/масштабировании, требуется высокий уровень подготовки инженеров. Зачастую это разные физические серверы.

Что сделать для минимизации рисков и проблем? Хм.. наверное, быть телепатом) Никто не застрахован

Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Врядли, но нужно смотреть что выгоднее финансово, что надежнее и тд. Т.е. выбирать инструмент под задачи. Гетерогенные системы вполне имеют право на жизнь
